**キャパシティプランニング 200**

⭐️ netstat (ネットワークの状態に関する情報を表示)
 - 「-s」プロトコル毎にパケットの送受信に関する情報表示
 - 「-i」ネットワークインターフェースの状態表示
 - 「-r」ルーティングテーブル表示
 - 「-n」名前解決せず
 - 「-a」全てのソケット表示
 - 「-l」待ち受け状態ソケット表示
 - 「-c」回数

⭐️SNMP　ネットワーク経由で機器を監視・制御するためのプロトコル、collectdやMRTGなどのツールが使用する

⭐️リソースの状態監視ツール
  - collectd　設定ファイル「/etc/collectd.conf」
  - Nagios  (サーバの死活監視など)
  - MRTG
  - Cacti  (MRTGの代替として使用される)
  - Icinga2  (Nagios互換の監視ツール)

⭐️e2fsck　ext2/ext3/ext4 のチェックを行う
 - 「-b」指定したスーパーブロック復元
 - 「-c」不良ブロックチェック
 - 「-p」自動的に不良ブロック修復

⭐️tar
  - 「-z」gzip()
  - 「-j」bzip2(bz2)
  - 「-J」xz

⭐️ソースファイルがコンパイルからインストールの実行順序
 1. ./configure
 2. make
 3. su
 4. make install

⭐️initrd 形式の初期RAM ディスクイメージの中身参照
 1. gunzip コマンドで解凍
 2. mount で適切なファイルシステムとしてマウント

⭐️lsof　ファイルを開いているプロセス表示

⭐️iostat　CPUの利用状況およびディスクI/Oの状況など表示
 - 「avg-cpu:」行
 - 「Device:」行

⭐️free メモリやスワップ領域の使用状況表示
 - 「Mem」行
 - 「-/+ buffers/cache」行
 - 「Swap」行

⭐️mpstat マルチプロセッサシステムのCPUの使用状況表示
 - 「-P」 表示するCPUを番号（数値）で指定することがき
 - 「ALL」全てのCPUの状況表示

⭐️プロセスのPID表示
 - pstree -p
 - ps
 - top
 - lsof

**Linuxカーネル(主題201)**

⭐️Linuxカーネル4つのカテゴリ
 - prepatch (新機能が含まれておりテストが必要なリリース,開発版リリース,)
 - mainline (prepatchの後にリリースされる正式版)
 - stable (mainlineの後にリリースされる安定版)
 - longterm (stableの中から選ばれ,長い期間バグフィックスが行われます

⭐️安定版判定
 - 2.6 より前 :2.X.Y の X が奇数だと開発版、偶数だと安定版
 - 2.6 より後 :ハイフンや記号が付いていなければ安定版

⭐️/usr/src/linux 内のファイル・ディレクトリ
 - .config (カーネルのビルド設定)
 - Makefile　(make設定、カーネルバージョン)
 - kernel/ (カーネル本体ソース)
 - Documetation/ (ドキュメント類)

⭐️ソースから再構築の基本手順
 - 設定を初期化 make mrproper
 - 設定 make oldconfig,make config,make menuconfig,make xconfig,make modules (カーネル本体は含まれません)
 - ビルド make,make all(カーネル本体とモジュールのビルド、一時ファイル自動的削除)
 - システムにインストールする make modules_install(モジュール),make install(カーネル本体)

 ◆make install によって /boot 以下にカーネルイメージが配置され、ブートローダに新しいカーネルを使う起動設定が追加される

⭐️カーネルのソースは展開する場所

　◆/usr/src/linux/

⭐️初期RAMディスクイメージの作成方法
 - mkinitrd
 - mkinitramfs (cpio アーカイブを利用した形式,出力先指定する際には -o オプションつけ)

⭐️initramfs 形式のイメージ
 - cpio アーカイブ
 - gzip 圧縮

⭐️udev
 - /etc/udev/udev.conf (メイン設定ファイル)
 - /etc/udev/rules.d (デバイスファイルの作成に関する個別の設定ファイル（ルールファイル）)

⭐️カーネルパラメータを参照する方法
 - sysctlコマンド (オプション２つ：-w 変更,-a 一覧)
 - /proc/sys以下の仮想ファイル参照

⭐️カーネルパラメータ設定ファイル
 - /etc/sysctl.conf
 - /etc/sysctl.d

**システムの起動(主題202)**

⭐️Linuxシステムのブートプロセス順
 - BIOS
 - ブートローダ
 - カーネル
 - init

⭐️Red Hat(7.0)以降、systemdプロセス(４つユニット)
 - service (各種サービスの起動、停止)
 - mount　(ファイルシステムmountする)
 - device (udevによっれ認識され)
 - target (ユニットをグループ化)

⭐️SysV-initを採用したシステムで、デフォルトランレベル指定方法
 - /etc/inittab
 - GRUBの設定ファイル

⭐️chkconfig Red Hat（6.xまで）系ディストリビューションで使う
 - [--level| ランレベル] サービス (on|off|reset)
 - --list[サービス]

⭐️UEFIの説明
 - GUIでマウス操作
 - ESPは「/boot/efi」にマウントされる
 - OS上から起動エントリを表示、設定できる

⭐️rdev カーネルイメージにルートファイルシステムの位置（ルートデバイス）書き込む
 - 書式：rdev カーネルイメージ ルートデバイス

⭐️ブートローダPXELINUX
 - pxelinux.0 (本体ファイル名)
 - pxelinux.cfg/ (設定ファイル格納)
 - DHCPサーバ,TFTPサーバ使用

⭐️ブートローダISOLINUX
 - isolinux.bin (本体ファイル)
 - isolinux.cfg (設定ファイル)

**ファイルシステムとデバイス(主題203)**

⭐️マウントオプション(デフォルト)
 - async, auto, exec, nouser, rw

⭐️スワップ領域として使用するファイル作成手順
 - dd (ファイル作成)
 - mkswap (ファイル初期化)
 - swapon (ファイル有効化)

⭐️ハードディスクを利用する手順
 - fdisk(パーティション切り)→ mkfs(フォーマット) → mount(マウント)

⭐️XFS
 - mkfs.xfs (作成)
 - xfs_check (チェック)
 - xfs_admin (設定)
 - xfs_info (情報表示)
 - xfsrestore (バックアップから復元)
 - xfsdump (バックアップ)

⭐️Linuxファイルシステム暗号化の手順
  1. 暗号化マッピング作成(「/dev/mapper」ディレクトリに指定した名前で作成され)
  2. 暗号化マッピングにファイルシステム作成
  3. 暗号化ファイルシステムをマウントする

⭐️cryptsetup Linuxファイルシステム暗号化
 - 書式：[オプション] アクション 引数
 - ３つアクション
  1. create
  2. remove
  3. status

**高度なストレージ管理(主題204)**

⭐️RAID構成の最低台数、利用可能容量

| レベル | 最低台数 | 利用容量 |
| :--- | :---: | :---: |
| RAID0 | 2 | 全ディスク合計 |
| RAID1 | 2 | １台分 |
| RAID5 | 3 | 合計から１台引く |

⭐️hdparm ハードディスクに関するパラメータを取得・設定する

**ネットワーク構成(主題205)**

⭐️ARP キャッシュ(IP アドレスと MAC アドレスの対応関係) オプション６つ

  - -i (インタフェース指定)
  - -a (ホスト名指定)
  - -d (削除)
  - -n (名前解決せず)
  - -s (IPとMACの対応をキャッシュに追加)
  - -f (ファイル指定して、キャッシュに追加)

⭐️iw(無線デバイスや無線インターフェイス設定)
 - 書式: iw オブジェクト コマンド
 - 主なオブジェクト
|オブジェクト|コマンド |
| :-- |--- |
| dev |<span style="color: red; ">link(無線の接続状況)</span><br>scan<br>connect/disconnect(ESSID指定して接続・切断)<br><span style="color: red; ">station dump(統計情報確認)</span>|
| phy |interface add/del<br>info(デバイス使用可能な情報表示)|

⭐️/etc/hosts ファイルの書式
 - IPアドレス ホスト名 [ホスト名...]

⭐️ウェルノウンポート
 - 20，21 FTP (データ用、制御用)
 - 22 SSH (リモートログイン暗号化あり)
 - 53 DNS (名前解決)
 - 80 HTTP (HTMLファイル転送)

⭐️netstat,ss同様なオプション
 - -a (全てのソケット表示)
 - -l (接続待ちのソケット表示)
 - -n (名前解決せず)
 - -t (TCPソケット)
 - -u (UDPソケット)

⭐️IPアドレスとホスト名の変換
 - nslookup
 - dig　(nslookupより詳細、得られた応答出力)

⭐️nmap(詳細が不明なネットワークの構造調査、スキャン)
 - ３つスキャンタイプ
  1. -sT (TCP)
  2. -sU (UDP)
  3. -sP (Ping、ICMP)
 - ３つオプション
  1. -p (ポート指定)
  2. -F (高速スキャン)
  3. -O (OS識別)

⭐️tcpdump (パケットキャプチャ、パケット監視)３つオプション
 - -i (インタフェース指定)
 - -n (名前解決せず)
 - -X (16進数とASCIIの表でパケット内容表示)

**システムの保守(主題206)**

⭐️GNUmake(指示ファイル検索)
 - GNUmakefile、makefile、Makefileの順

⭐️make(ビルドツール)３つターゲット
 - clean：ビルド時に作成されたファイルの削除
 - install：ビルドしたプログラム、ライブラリの指定場所へのコピーやパーミッション設定
 - uninstall：インストールしたプログラム、ライブラリの削除

⭐️ mt (テープドライブ制御) 書式：mt -f テープデバイス 操作
  - デバイス
    1. /dev/st0 テープが自動的に巻き戻されます
    2. /dev/nst0 複数のファイルを読み書きしたい場合などは巻き戻ししない
  - コマンド
    1. fsf テープ進める
    2. dsf テープ戻す

⭐️rsync(ネットワーク経由でデータコピー)
 - 構文：rsync [オプション] 送信元 送信先
 - 送信先（送信元）の指定：[ユーザ名@][ホスト:]ディレクトリ
 - オプション
  - -a (属性保持したままコピー)
  - -e (転送方式指定)

⭐️tar(ファイルのアーカイブ)
 - -c (アーカイブ作成)
 - -x (アーカイブからファイル展開)
 - -t (アーカイブ内容表示)

ログイン画面に表示される内容を設定するには、/etc/issue を編集します。

・/etc/motd
/etc/issue と同じくユーザに表示する内容を設定するファイルですが、こちらはログイン画面の表示ではなく、ログイン直後に表示される内容を設定します。
